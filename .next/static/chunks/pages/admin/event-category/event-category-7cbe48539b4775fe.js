(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4337],{9180:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var r=(0,s(853).Z)("circle-plus","IconCirclePlus",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l6 0",key:"svg-1"}],["path",{d:"M12 9l0 6",key:"svg-2"}]])},1942:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var r=(0,s(853).Z)("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]])},7555:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var r=(0,s(853).Z)("trash-x","IconTrashX",[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]])},5694:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/event-category/event-category",function(){return s(5816)}])},4369:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var r=s(5893),n=s(7294),a=s(7357),i=s(5861),l=s(1737),c=s(3946),o=s(7922),d=s(7283),u=s(4776);function h(){let[e,t]=n.useState(!0);return(0,r.jsx)(a.Z,{sx:{width:"100%"},children:(0,r.jsx)(o.Z,{in:e,children:(0,r.jsx)(u.Z,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,r.jsx)(l.Z,{className:"absolute bg-success-light right-0 bottom-0 z-10",severity:"success",action:(0,r.jsx)(c.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{t(!1)},children:(0,r.jsx)(d.Z,{fontSize:"inherit"})}),sx:{mb:2},children:(0,r.jsx)(i.Z,{className:"success-main",color:"inherit",size:"small",children:"Enquiry form saved successfully!"})})})})})}},1900:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var r=s(5893),n=s(7294),a=s(3321),i=s(657),l=s(1425),c=s(7645),o=s(4776);function d(e){let{DeleteModalOpen:t,DeleteModalFunction:s}=e,d=n.forwardRef(function(e,t){return(0,r.jsx)(o.Z,{direction:"up",ref:t,...e})});return(0,r.jsxs)(i.Z,{open:t,TransitionComponent:d,keepMounted:!0,children:[(0,r.jsx)(c.Z,{children:"Are you sure you want to delete?"}),(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(a.Z,{id:"No",onClick:s,children:"No"}),(0,r.jsx)(a.Z,{id:"Yes",onClick:s,children:"Yes"})]})]})}},5816:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var r=s(5893),n=s(7294),a=s(5675),i=s.n(a),l=s(5121),c=s(5630),o=s(5861),d=s(3321),u=s(7357),h=s(7906),x=s(3184),g=s(3816),f=s(3252),Z=s(295),j=s(7918),m=s(6997),v=s(5347),p=s(8511),y=s(9180),b=s(1942),w=s(7555),k=s(3417),N=s(1900),C=s(1073),E=s(4369),S=s(1988);function M(){let[e,t]=n.useState(0),[s,a]=n.useState(5),[c,M]=n.useState(!1),[_,I]=n.useState([]),[F,P]=n.useState(),[A,T]=(0,n.useState)(0),[z,D]=n.useState(!1),[O,R]=n.useState(!1),[W,L]=(0,n.useState)(!1),[X,Y]=(0,n.useState)(!0),q=e=>{let t=e.currentTarget.id;0!==(t=Number(atob(e.currentTarget.id)))?B(t):(I([]),M(!0))};(0,n.useEffect)(()=>{X&&B(0)},[]);let B=async e=>{L(!0);try{let t={Id:e};if(0!==e){let e=await l.Z.post("/api/event-category/select",t);0!==e.data.eventcategory.length?(I(e.data.eventcategory[0]),M(!0),L(!1)):I([])}else{let e=await l.Z.post("/api/event-category/select",t);0!==e.data.eventcategory.length?P(e.data.eventcategory):P([])}}catch(e){console.error("Error:",e)}Y(!1),L(!1)},G=async e=>{if("Yes"===e.currentTarget.id){D(!1),L(!0);try{let e=await l.Z.post("/api/event-category/delete",{Id:A});D(!1),"Event category deleted successfully"===e.data.message?(R(!0),B(0),L(!1)):console.log(e.data.message)}catch(e){console.error("Error:",e),console.log("Full Axios Error:",e.response)}}else D(!1),T(0)},V=e=>{let t=0;0!==(t=Number(atob(e.currentTarget.id)))?(D(!0),T(t)):(D(!1),T(0))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(r.Fragment,{children:W&&(0,r.jsx)(C.Z,{ShowLoader:W})}),O&&(0,r.jsx)(E.Z,{}),z&&(0,r.jsx)(N.Z,{DeleteModalOpen:z,DeleteModalFunction:G}),(0,r.jsx)(S.default,{EditValue:_,EditModalOpen:c,CloseModalFunction:()=>{M(!1)}}),(0,r.jsxs)(p.Z,{title:"",children:[(0,r.jsxs)("div",{className:"block md:flex lg:flex xl:flex 2xl:flex justify-between items-center",children:[(0,r.jsx)(o.Z,{variant:"h5",children:"Events category list"}),(0,r.jsxs)(d.Z,{onClick:q,style:{backgroundColor:k.Z.palette.primary.main,color:"#FFF"},className:"flex justify-between items-center bg-blue-600 text-white hover:bg-blue-400",children:[(0,r.jsx)(y.Z,{className:"pr-2"}),"Add new"]})]}),(0,r.jsx)(u.Z,{sx:{overflow:"auto",width:{xs:"280px",sm:"auto"}},children:(0,r.jsxs)(h.Z,{"aria-label":"simple table",sx:{whiteSpace:"nowrap",mt:2},children:[(0,r.jsx)(x.Z,{children:(0,r.jsxs)(g.Z,{children:[(0,r.jsx)(f.Z,{children:(0,r.jsx)(o.Z,{variant:"subtitle2",fontWeight:600,children:"S.No"})}),(0,r.jsx)(f.Z,{children:(0,r.jsx)(o.Z,{variant:"subtitle2",fontWeight:600,children:"Category image"})}),(0,r.jsx)(f.Z,{children:(0,r.jsx)(o.Z,{variant:"subtitle2",fontWeight:600,children:"Category name"})}),(0,r.jsx)(f.Z,{children:(0,r.jsx)(o.Z,{variant:"subtitle2",fontWeight:600,children:"Date"})}),(0,r.jsx)(f.Z,{children:(0,r.jsx)(o.Z,{variant:"subtitle2",fontWeight:600,children:"Status"})}),(0,r.jsx)(f.Z,{children:(0,r.jsx)(o.Z,{align:"center",variant:"subtitle2",fontWeight:600,children:"Action"})})]})}),(0,r.jsx)(Z.Z,{children:F&&Array.isArray(F)?F.slice(e*s,e*s+s).map((e,t)=>(0,r.jsxs)(g.Z,{sx:{border:"2px solid #f6f9fc"},children:[(0,r.jsx)(f.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,r.jsx)(o.Z,{children:t+1})}),(0,r.jsx)(f.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,r.jsx)(i(),{className:"rounded-full mx-auto",src:"/events/"+e.EventCategoryImage,width:40,height:40,alt:e.EventCategoryImage})}),(0,r.jsx)(f.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,r.jsx)(o.Z,{children:e.EventCategoryName})}),(0,r.jsx)(f.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,r.jsx)(o.Z,{children:new Date(e.Date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})}),(0,r.jsx)(f.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:1===e.Active?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(j.Z,{className:"text-xs",style:{backgroundColor:k.Z.palette.success.light,color:k.Z.palette.success.main},size:"small",label:"Active"})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(j.Z,{className:"text-xs",size:"small",style:{backgroundColor:k.Z.palette.error.light,color:k.Z.palette.error.main},label:"InActive"})})}),(0,r.jsx)(f.Z,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(m.Z,{title:"Edit",arrow:!0,children:(0,r.jsx)(b.Z,{onClick:q,id:btoa(e.Id),className:"mx-auto text-primary-main cursor-pointer"})}),(0,r.jsx)(m.Z,{title:"Delete",arrow:!0,children:(0,r.jsx)(w.Z,{id:btoa(e.Id),onClick:V,className:"mx-auto text-error-main cursor-pointer"})})]})})]},e.EventCategoryName)):null})]})}),(0,r.jsx)(v.Z,{rowsPerPageOptions:[5,10,25,50],component:"div",count:F?F.length:0,rowsPerPage:s,page:e,onPageChange:(e,s)=>{t(s)},onRowsPerPageChange:e=>{a(parseInt(e.target.value,10)),t(0)}})]})]})}M.getLayout=function(e){return(0,r.jsx)(c.Z,{children:e})}}},function(e){e.O(0,[5675,1664,1103,8218,315,5121,2474,6886,4638,965,6057,6016,1629,5347,7202,3967,1988,9774,2888,179],function(){return e(e.s=5694)}),_N_E=e.O()}]);