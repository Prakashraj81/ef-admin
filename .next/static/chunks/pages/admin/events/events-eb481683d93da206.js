(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9522],{9180:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var n=(0,s(853).Z)("circle-plus","IconCirclePlus",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l6 0",key:"svg-1"}],["path",{d:"M12 9l0 6",key:"svg-2"}]])},1942:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var n=(0,s(853).Z)("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]])},7555:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var n=(0,s(853).Z)("trash-x","IconTrashX",[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]])},2014:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/events/events",function(){return s(6830)}])},4369:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var n=s(5893),r=s(7294),i=s(7357),l=s(5861),a=s(1737),c=s(3946),o=s(7922),d=s(7283),u=s(4776);function h(){let[e,t]=r.useState(!0);return(0,n.jsx)(i.Z,{sx:{width:"100%"},children:(0,n.jsx)(o.Z,{in:e,children:(0,n.jsx)(u.Z,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,n.jsx)(a.Z,{className:"absolute bg-success-light right-0 bottom-0 z-10",severity:"success",action:(0,n.jsx)(c.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{t(!1)},children:(0,n.jsx)(d.Z,{fontSize:"inherit"})}),sx:{mb:2},children:(0,n.jsx)(l.Z,{className:"success-main",color:"inherit",size:"small",children:"Enquiry form saved successfully!"})})})})})}},1900:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var n=s(5893),r=s(7294),i=s(3321),l=s(657),a=s(1425),c=s(7645),o=s(4776);function d(e){let{DeleteModalOpen:t,DeleteModalFunction:s}=e,d=r.forwardRef(function(e,t){return(0,n.jsx)(o.Z,{direction:"up",ref:t,...e})});return(0,n.jsxs)(l.Z,{open:t,TransitionComponent:d,keepMounted:!0,children:[(0,n.jsx)(c.Z,{children:"Are you sure you want to delete?"}),(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(i.Z,{id:"No",onClick:s,children:"No"}),(0,n.jsx)(i.Z,{id:"Yes",onClick:s,children:"Yes"})]})]})}},6830:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var n=s(5893),r=s(7294),i=s(5675),l=s.n(i),a=s(5121),c=s(5630),o=s(5861),d=s(3321),u=s(7357),h=s(7906),x=s(3184),f=s(3816),Z=s(3252),j=s(295),g=s(7918),m=s(6997),v=s(5347),p=s(8511),b=s(9180),y=s(1942),w=s(7555),E=s(3417),k=s(1900),N=s(1073),C=s(4369),S=s(6358);function M(){let[e,t]=r.useState(0),[s,i]=r.useState(5),[c,M]=r.useState(!1),[_,I]=r.useState([]),[A,F]=r.useState(),[P,R]=(0,r.useState)(0),[T,W]=r.useState(!1),[z,D]=r.useState(!1),[O,L]=(0,r.useState)(!1),[X,Y]=(0,r.useState)(!0),q=e=>{let t=e.currentTarget.id;0!==(t=Number(atob(e.currentTarget.id)))?B(t):(I([]),M(!0))};(0,r.useEffect)(()=>{X&&B(0)},[]);let B=async e=>{L(!0);try{let t={Id:e};if(0!==e){let e=await a.Z.post("/api/events/select",t);0!==e.data.events.length?(I(e.data.events[0]),M(!0),L(!1)):(M(!1),L(!1),I([]))}else{let e=await a.Z.post("/api/events/select",t);0!==e.data.events.length?F(e.data.events):F([])}}catch(e){console.error("Error:",e)}Y(!1),L(!1)},G=async e=>{if("Yes"===e.currentTarget.id){W(!1),L(!0);try{let e=await a.Z.post("/api/events/delete",{Id:P});W(!1),"Events deleted successfully"===e.data.message?(D(!0),B(0),L(!1)):console.log(e.data.message)}catch(e){console.error("Error:",e),console.log("Full Axios Error:",e.response)}}else W(!1),R(0)},V=e=>{let t=0;0!==(t=Number(atob(e.currentTarget.id)))?(W(!0),R(t)):(W(!1),R(0))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(n.Fragment,{children:O&&(0,n.jsx)(N.Z,{ShowLoader:O})}),z&&(0,n.jsx)(C.Z,{}),T&&(0,n.jsx)(k.Z,{DeleteModalOpen:T,DeleteModalFunction:G}),(0,n.jsx)(S.default,{EditValue:_,EditModalOpen:c,CloseModalFunction:()=>{M(!1)}}),(0,n.jsxs)(p.Z,{title:"",children:[(0,n.jsxs)("div",{className:"block md:flex lg:flex xl:flex 2xl:flex justify-between items-center",children:[(0,n.jsx)(o.Z,{variant:"h5",children:"Events list"}),(0,n.jsxs)(d.Z,{onClick:q,style:{backgroundColor:E.Z.palette.primary.main,color:"#FFF"},className:"flex justify-between items-center bg-blue-600 text-white hover:bg-blue-400",children:[(0,n.jsx)(b.Z,{className:"pr-2"}),"Add event"]})]}),(0,n.jsx)(u.Z,{sx:{overflow:"auto",width:{xs:"280px",sm:"auto"}},children:(0,n.jsxs)(h.Z,{"aria-label":"simple table",sx:{whiteSpace:"nowrap",mt:2},children:[(0,n.jsx)(x.Z,{children:(0,n.jsxs)(f.Z,{children:[(0,n.jsx)(Z.Z,{children:(0,n.jsx)(o.Z,{variant:"subtitle2",fontWeight:600,children:"S.No"})}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(o.Z,{variant:"subtitle2",fontWeight:600,children:"Event image"})}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(o.Z,{variant:"subtitle2",fontWeight:600,children:"Event category name"})}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(o.Z,{variant:"subtitle2",fontWeight:600,children:"Event heading"})}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(o.Z,{variant:"subtitle2",fontWeight:600,children:"Event amount"})}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(o.Z,{variant:"subtitle2",fontWeight:600,children:"Date"})}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(o.Z,{variant:"subtitle2",fontWeight:600,children:"Status"})}),(0,n.jsx)(Z.Z,{children:(0,n.jsx)(o.Z,{align:"center",variant:"subtitle2",fontWeight:600,children:"Action"})})]})}),(0,n.jsx)(j.Z,{children:A&&Array.isArray(A)?A.slice(e*s,e*s+s).map((e,t)=>(0,n.jsxs)(f.Z,{sx:{border:"2px solid #f6f9fc"},children:[(0,n.jsx)(Z.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,n.jsx)(o.Z,{children:t+1})}),(0,n.jsx)(Z.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,n.jsx)(l(),{className:"rounded-full mx-auto",src:"/events/"+e.EventImage,width:40,height:40,alt:e.EventImage})}),(0,n.jsx)(Z.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,n.jsx)(o.Z,{children:e.EventCategoryName})}),(0,n.jsx)(Z.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,n.jsx)(o.Z,{children:e.EventName})}),(0,n.jsx)(Z.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,n.jsxs)(o.Z,{children:["â‚¹",e.EventAmount]})}),(0,n.jsx)(Z.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,n.jsx)(o.Z,{children:new Date(e.Date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})}),(0,n.jsx)(Z.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:1===e.Active?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(g.Z,{className:"text-xs",style:{backgroundColor:E.Z.palette.success.light,color:E.Z.palette.success.main},size:"small",label:"Active"})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(g.Z,{className:"text-xs",size:"small",style:{backgroundColor:E.Z.palette.error.light,color:E.Z.palette.error.main},label:"InActive"})})}),(0,n.jsx)(Z.Z,{children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)(m.Z,{title:"Edit",arrow:!0,children:(0,n.jsx)(y.Z,{onClick:q,id:btoa(e.Id),className:"mx-auto text-primary-main cursor-pointer"})}),(0,n.jsx)(m.Z,{title:"Delete",arrow:!0,children:(0,n.jsx)(w.Z,{id:btoa(e.Id),onClick:V,className:"mx-auto text-error-main cursor-pointer"})})]})})]},e.CustomerName)):null})]})}),(0,n.jsx)(v.Z,{rowsPerPageOptions:[5,10,25,50],component:"div",count:A?A.length:0,rowsPerPage:s,page:e,onPageChange:(e,s)=>{t(s)},onRowsPerPageChange:e=>{i(parseInt(e.target.value,10)),t(0)}})]})]})}M.getLayout=function(e){return(0,n.jsx)(c.Z,{children:e})}}},function(e){e.O(0,[5675,1664,1103,8218,315,5121,2474,6886,4638,965,6057,6016,1629,5347,7202,3967,6358,9774,2888,179],function(){return e(e.s=2014)}),_N_E=e.O()}]);