(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2293],{9180:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var r=(0,s(853).Z)("circle-plus","IconCirclePlus",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l6 0",key:"svg-1"}],["path",{d:"M12 9l0 6",key:"svg-2"}]])},1942:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var r=(0,s(853).Z)("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]])},7555:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var r=(0,s(853).Z)("trash-x","IconTrashX",[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]])},8850:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/users/users",function(){return s(8103)}])},4369:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var r=s(5893),n=s(7294),i=s(7357),l=s(5861),a=s(1737),c=s(3946),o=s(7922),d=s(7283),u=s(4776);function h(){let[e,t]=n.useState(!0);return(0,r.jsx)(i.Z,{sx:{width:"100%"},children:(0,r.jsx)(o.Z,{in:e,children:(0,r.jsx)(u.Z,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,r.jsx)(a.Z,{className:"absolute bg-success-light right-0 bottom-0 z-10",severity:"success",action:(0,r.jsx)(c.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{t(!1)},children:(0,r.jsx)(d.Z,{fontSize:"inherit"})}),sx:{mb:2},children:(0,r.jsx)(l.Z,{className:"success-main",color:"inherit",size:"small",children:"Enquiry form saved successfully!"})})})})})}},1900:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var r=s(5893),n=s(7294),i=s(3321),l=s(657),a=s(1425),c=s(7645),o=s(4776);function d(e){let{DeleteModalOpen:t,DeleteModalFunction:s}=e,d=n.forwardRef(function(e,t){return(0,r.jsx)(o.Z,{direction:"up",ref:t,...e})});return(0,r.jsxs)(l.Z,{open:t,TransitionComponent:d,keepMounted:!0,children:[(0,r.jsx)(c.Z,{children:"Are you sure you want to delete?"}),(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(i.Z,{id:"No",onClick:s,children:"No"}),(0,r.jsx)(i.Z,{id:"Yes",onClick:s,children:"Yes"})]})]})}},8103:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var r=s(5893),n=s(7294);s(5675);var i=s(5121),l=s(5630),a=s(5861),c=s(3321),o=s(7357),d=s(7906),u=s(3184),h=s(3816),x=s(3252),Z=s(295),f=s(7918),j=s(6997),g=s(5347),m=s(8511),p=s(9180),b=s(1942),v=s(7555),y=s(3417),w=s(1900),k=s(1073),N=s(4369),E=s(7001);function C(){let[e,t]=n.useState(0),[s,l]=n.useState(5),[C,S]=n.useState(!1),[M,P]=n.useState([]),[_,F]=n.useState(),[A,I]=(0,n.useState)(0),[T,z]=n.useState(!1),[O,R]=n.useState(!1),[W,D]=(0,n.useState)(!1),[X,Y]=(0,n.useState)(!0),L=e=>{let t=e.currentTarget.id;0!==(t=Number(atob(e.currentTarget.id)))?U(t):(P([]),S(!0))};(0,n.useEffect)(()=>{X&&U(0)},[]);let U=async e=>{D(!0);try{let t={Id:e};if(0!==e){let e=await i.Z.post("/api/users/select",t);0!==e.data.user.length?(P(e.data.user[0]),S(!0),D(!1)):P([])}else{let e=await i.Z.post("/api/users/select",t);0!==e.data.user.length?F(e.data.user):F([])}}catch(e){console.error("Error:",e)}Y(!1),D(!1)},q=async e=>{if("Yes"===e.currentTarget.id){z(!1),D(!0);try{let e=await i.Z.post("/api/users/delete",{Id:A});z(!1),"User deleted successfully"===e.data.message?(R(!0),U(0),D(!1)):console.log(e.data.message)}catch(e){console.error("Error:",e),console.log("Full Axios Error:",e.response)}}else z(!1),I(0)},V=e=>{let t=0;0!==(t=Number(atob(e.currentTarget.id)))?(z(!0),I(t)):(z(!1),I(0))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(r.Fragment,{children:W&&(0,r.jsx)(k.Z,{ShowLoader:W})}),O&&(0,r.jsx)(N.Z,{}),T&&(0,r.jsx)(w.Z,{DeleteModalOpen:T,DeleteModalFunction:q}),(0,r.jsx)(E.default,{EditValue:M,EditModalOpen:C,CloseModalFunction:()=>{S(!1)}}),(0,r.jsxs)(m.Z,{title:"",children:[(0,r.jsxs)("div",{className:"block md:flex lg:flex xl:flex 2xl:flex justify-between items-center",children:[(0,r.jsx)(a.Z,{variant:"h5",children:"User list"}),(0,r.jsxs)(c.Z,{onClick:L,style:{backgroundColor:y.Z.palette.primary.main,color:"#FFF"},className:"flex justify-between items-center bg-blue-600 text-white hover:bg-blue-400",children:[(0,r.jsx)(p.Z,{className:"pr-2"}),"Add user"]})]}),(0,r.jsx)(o.Z,{sx:{overflow:"auto",width:{xs:"280px",sm:"auto"}},children:(0,r.jsxs)(d.Z,{"aria-label":"simple table",sx:{whiteSpace:"nowrap",mt:2},children:[(0,r.jsx)(u.Z,{children:(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(x.Z,{children:(0,r.jsx)(a.Z,{variant:"subtitle2",fontWeight:600,children:"S.No"})}),(0,r.jsx)(x.Z,{children:(0,r.jsx)(a.Z,{variant:"subtitle2",fontWeight:600,children:"Name"})}),(0,r.jsx)(x.Z,{children:(0,r.jsx)(a.Z,{variant:"subtitle2",fontWeight:600,children:"Email"})}),(0,r.jsx)(x.Z,{children:(0,r.jsx)(a.Z,{variant:"subtitle2",fontWeight:600,children:"Phone no"})}),(0,r.jsx)(x.Z,{children:(0,r.jsx)(a.Z,{variant:"subtitle2",fontWeight:600,children:"Status"})}),(0,r.jsx)(x.Z,{children:(0,r.jsx)(a.Z,{align:"center",variant:"subtitle2",fontWeight:600,children:"Action"})})]})}),(0,r.jsx)(Z.Z,{children:_&&Array.isArray(_)?_.slice(e*s,e*s+s).map((e,t)=>(0,r.jsxs)(h.Z,{sx:{border:"2px solid #f6f9fc"},children:[(0,r.jsx)(x.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,r.jsx)(a.Z,{children:t+1})}),(0,r.jsx)(x.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,r.jsx)(a.Z,{children:e.Name})}),(0,r.jsx)(x.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,r.jsx)(a.Z,{children:e.Email})}),(0,r.jsx)(x.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,r.jsx)(a.Z,{children:e.PhoneNo})}),(0,r.jsx)(x.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:1===e.Active?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.Z,{className:"text-xs",style:{backgroundColor:y.Z.palette.success.light,color:y.Z.palette.success.main},size:"small",label:"Active"})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.Z,{className:"text-xs",size:"small",style:{backgroundColor:y.Z.palette.error.light,color:y.Z.palette.error.main},label:"InActive"})})}),(0,r.jsx)(x.Z,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(j.Z,{title:"Edit",arrow:!0,children:(0,r.jsx)(b.Z,{onClick:L,id:btoa(e.Id),className:"mx-auto text-primary-main cursor-pointer"})}),(0,r.jsx)(j.Z,{title:"Delete",arrow:!0,children:(0,r.jsx)(v.Z,{id:btoa(e.Id),onClick:V,className:"mx-auto text-error-main cursor-pointer"})})]})})]},e.Name)):null})]})}),(0,r.jsx)(g.Z,{rowsPerPageOptions:[5,10,25,50],component:"div",count:_?_.length:0,rowsPerPage:s,page:e,onPageChange:(e,s)=>{t(s)},onRowsPerPageChange:e=>{l(parseInt(e.target.value,10)),t(0)}})]})]})}C.getLayout=function(e){return(0,r.jsx)(l.Z,{children:e})}}},function(e){e.O(0,[5675,1664,1103,8218,315,5121,2474,6886,4638,965,6057,6016,1629,5347,7202,3967,7001,9774,2888,179],function(){return e(e.s=8850)}),_N_E=e.O()}]);