(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6026],{9180:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var i=(0,s(853).Z)("circle-plus","IconCirclePlus",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l6 0",key:"svg-1"}],["path",{d:"M12 9l0 6",key:"svg-2"}]])},1942:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var i=(0,s(853).Z)("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]])},7555:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var i=(0,s(853).Z)("trash-x","IconTrashX",[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]])},3134:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/testimonials/testimonials",function(){return s(157)}])},4369:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var i=s(5893),n=s(7294),r=s(7357),l=s(5861),a=s(1737),o=s(3946),c=s(7922),d=s(7283),u=s(4776);function h(){let[e,t]=n.useState(!0);return(0,i.jsx)(r.Z,{sx:{width:"100%"},children:(0,i.jsx)(c.Z,{in:e,children:(0,i.jsx)(u.Z,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:(0,i.jsx)(a.Z,{className:"absolute bg-success-light right-0 bottom-0 z-10",severity:"success",action:(0,i.jsx)(o.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{t(!1)},children:(0,i.jsx)(d.Z,{fontSize:"inherit"})}),sx:{mb:2},children:(0,i.jsx)(l.Z,{className:"success-main",color:"inherit",size:"small",children:"Enquiry form saved successfully!"})})})})})}},1900:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var i=s(5893),n=s(7294),r=s(3321),l=s(657),a=s(1425),o=s(7645),c=s(4776);function d(e){let{DeleteModalOpen:t,DeleteModalFunction:s}=e,d=n.forwardRef(function(e,t){return(0,i.jsx)(c.Z,{direction:"up",ref:t,...e})});return(0,i.jsxs)(l.Z,{open:t,TransitionComponent:d,keepMounted:!0,children:[(0,i.jsx)(o.Z,{children:"Are you sure you want to delete?"}),(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(r.Z,{id:"No",onClick:s,children:"No"}),(0,i.jsx)(r.Z,{id:"Yes",onClick:s,children:"Yes"})]})]})}},157:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var i=s(5893),n=s(7294);s(5675);var r=s(5121),l=s(5630),a=s(5861),o=s(3321),c=s(7357),d=s(7906),u=s(3184),h=s(3816),x=s(3252),Z=s(295),f=s(7918),m=s(6997),j=s(5347),g=s(8511),p=s(9180),v=s(1942),b=s(7555),y=s(3417),w=s(1900),k=s(1073),N=s(4369),C=s(1448);function S(){let[e,t]=n.useState(0),[s,l]=n.useState(5),[S,E]=n.useState(!1),[M,_]=n.useState([]),[F,P]=n.useState(),[T,A]=(0,n.useState)(0),[I,R]=n.useState(!1),[z,O]=n.useState(!1),[D,W]=(0,n.useState)(!1),[L,X]=(0,n.useState)(!0),Y=e=>{let t=e.currentTarget.id;0!==(t=Number(atob(e.currentTarget.id)))?q(t):(_([]),E(!0))};(0,n.useEffect)(()=>{L&&q(0)},[]);let q=async e=>{W(!0);try{let t={Id:e};if(0!==e){let e=await r.Z.post("/api/testimonials/select",t);0!==e.data.testimonials.length?(_(e.data.testimonials[0]),E(!0),W(!1)):_([])}else{let e=await r.Z.post("/api/testimonials/select",t);0!==e.data.testimonials.length?P(e.data.testimonials):P([])}}catch(e){console.error("Error:",e)}X(!1),W(!1)},B=async e=>{if("Yes"===e.currentTarget.id){R(!1),W(!0);try{let e=await r.Z.post("/api/testimonials/delete",{Id:T});R(!1),"Testimonial deleted successfully"===e.data.message?(O(!0),q(0),W(!1)):console.log(e.data.message)}catch(e){console.error("Error:",e),console.log("Full Axios Error:",e.response)}}else R(!1),A(0)},G=e=>{let t=0;0!==(t=Number(atob(e.currentTarget.id)))?(R(!0),A(t)):(R(!1),A(0))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(i.Fragment,{children:D&&(0,i.jsx)(k.Z,{ShowLoader:D})}),z&&(0,i.jsx)(N.Z,{}),I&&(0,i.jsx)(w.Z,{DeleteModalOpen:I,DeleteModalFunction:B}),(0,i.jsx)(C.default,{EditValue:M,EditModalOpen:S,CloseModalFunction:()=>{E(!1)}}),(0,i.jsxs)(g.Z,{title:"",children:[(0,i.jsxs)("div",{className:"block md:flex lg:flex xl:flex 2xl:flex justify-between items-center",children:[(0,i.jsx)(a.Z,{variant:"h5",children:"Testimonials list"}),(0,i.jsxs)(o.Z,{onClick:Y,style:{backgroundColor:y.Z.palette.primary.main,color:"#FFF"},className:"flex justify-between items-center bg-blue-600 text-white hover:bg-blue-400",children:[(0,i.jsx)(p.Z,{className:"pr-2"}),"Add new"]})]}),(0,i.jsx)(c.Z,{sx:{overflow:"auto",width:{xs:"280px",sm:"auto"}},children:(0,i.jsxs)(d.Z,{"aria-label":"simple table",sx:{whiteSpace:"nowrap",mt:2},children:[(0,i.jsx)(u.Z,{children:(0,i.jsxs)(h.Z,{children:[(0,i.jsx)(x.Z,{children:(0,i.jsx)(a.Z,{variant:"subtitle2",fontWeight:600,children:"S.No"})}),(0,i.jsx)(x.Z,{children:(0,i.jsx)(a.Z,{variant:"subtitle2",fontWeight:600,children:"Customer name"})}),(0,i.jsx)(x.Z,{children:(0,i.jsx)(a.Z,{variant:"subtitle2",fontWeight:600,children:"Star rating"})}),(0,i.jsx)(x.Z,{children:(0,i.jsx)(a.Z,{variant:"subtitle2",fontWeight:600,children:"Review date"})}),(0,i.jsx)(x.Z,{children:(0,i.jsx)(a.Z,{variant:"subtitle2",fontWeight:600,children:"Status"})}),(0,i.jsx)(x.Z,{children:(0,i.jsx)(a.Z,{align:"center",variant:"subtitle2",fontWeight:600,children:"Action"})})]})}),(0,i.jsx)(Z.Z,{children:F&&Array.isArray(F)?F.slice(e*s,e*s+s).map((e,t)=>(0,i.jsxs)(h.Z,{sx:{border:"2px solid #f6f9fc"},children:[(0,i.jsx)(x.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,i.jsx)(a.Z,{children:t+1})}),(0,i.jsx)(x.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,i.jsx)(a.Z,{children:e.CustomerName})}),(0,i.jsx)(x.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,i.jsx)(a.Z,{children:e.StarRating})}),(0,i.jsx)(x.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:(0,i.jsx)(a.Z,{children:new Date(e.Date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})}),(0,i.jsx)(x.Z,{sx:{borderRight:"2px solid #f6f9fc"},children:1===e.Active?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(f.Z,{className:"text-xs",style:{backgroundColor:y.Z.palette.success.light,color:y.Z.palette.success.main},size:"small",label:"Active"})}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(f.Z,{className:"text-xs",size:"small",style:{backgroundColor:y.Z.palette.error.light,color:y.Z.palette.error.main},label:"InActive"})})}),(0,i.jsx)(x.Z,{children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)(m.Z,{title:"Edit",arrow:!0,children:(0,i.jsx)(v.Z,{onClick:Y,id:btoa(e.Id),className:"mx-auto text-primary-main cursor-pointer"})}),(0,i.jsx)(m.Z,{title:"Delete",arrow:!0,children:(0,i.jsx)(b.Z,{id:btoa(e.Id),onClick:G,className:"mx-auto text-error-main cursor-pointer"})})]})})]},e.CustomerName)):null})]})}),(0,i.jsx)(j.Z,{rowsPerPageOptions:[5,10,25,50],component:"div",count:F?F.length:0,rowsPerPage:s,page:e,onPageChange:(e,s)=>{t(s)},onRowsPerPageChange:e=>{l(parseInt(e.target.value,10)),t(0)}})]})]})}S.getLayout=function(e){return(0,i.jsx)(l.Z,{children:e})}}},function(e){e.O(0,[5675,1664,1103,8218,315,5121,2474,6886,4638,965,6057,6016,1629,5347,7202,3967,1448,9774,2888,179],function(){return e(e.s=3134)}),_N_E=e.O()}]);