"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1448],{8456:function(e,t,r){r.d(t,{Z:function(){return M}});var a=r(3366),i=r(7462),n=r(7294),s=r(6010),l=r(4780),o=r(917),c=r(8216),d=r(1657),u=r(948),m=r(1588),h=r(4867);function x(e){return(0,h.Z)("MuiCircularProgress",e)}(0,m.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var g=r(5893);let f=["className","color","disableShrink","size","style","thickness","value","variant"],v=e=>e,p,b,Z,j,C=(0,o.F4)(p||(p=v`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),y=(0,o.F4)(b||(b=v`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),S=e=>{let{classes:t,variant:r,color:a,disableShrink:i}=e,n={root:["root",r,`color${(0,c.Z)(a)}`],svg:["svg"],circle:["circle",`circle${(0,c.Z)(r)}`,i&&"circleDisableShrink"]};return(0,l.Z)(n,x,t)},w=(0,u.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],t[`color${(0,c.Z)(r.color)}`]]}})(({ownerState:e,theme:t})=>(0,i.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>"indeterminate"===e.variant&&(0,o.iv)(Z||(Z=v`
      animation: ${0} 1.4s linear infinite;
    `),C)),k=(0,u.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),N=(0,u.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.circle,t[`circle${(0,c.Z)(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>(0,i.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,o.iv)(j||(j=v`
      animation: ${0} 1.4s ease-in-out infinite;
    `),y)),D=n.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiCircularProgress"}),{className:n,color:l="primary",disableShrink:o=!1,size:c=40,style:u,thickness:m=3.6,value:h=0,variant:x="indeterminate"}=r,v=(0,a.Z)(r,f),p=(0,i.Z)({},r,{color:l,disableShrink:o,size:c,thickness:m,value:h,variant:x}),b=S(p),Z={},j={},C={};if("determinate"===x){let e=2*Math.PI*((44-m)/2);Z.strokeDasharray=e.toFixed(3),C["aria-valuenow"]=Math.round(h),Z.strokeDashoffset=`${((100-h)/100*e).toFixed(3)}px`,j.transform="rotate(-90deg)"}return(0,g.jsx)(w,(0,i.Z)({className:(0,s.Z)(b.root,n),style:(0,i.Z)({width:c,height:c},j,u),ownerState:p,ref:t,role:"progressbar"},C,v,{children:(0,g.jsx)(k,{className:b.svg,ownerState:p,viewBox:"22 22 44 44",children:(0,g.jsx)(N,{className:b.circle,style:Z,ownerState:p,cx:44,cy:44,r:(44-m)/2,fill:"none",strokeWidth:m})})}))});var M=D},5712:function(e,t,r){r.d(t,{Z:function(){return i}});var a=r(5893);function i(){return(0,a.jsx)("textarea",{className:"w-full p-3 custom-text-area"})}r(7294)},5415:function(e,t,r){var a=r(5893);r(7294);var i=r(948),n=r(2474);let s=(0,i.ZP)(e=>(0,a.jsx)(n.Z,{...e}))(e=>{let{theme:t}=e;return{"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"0.8"},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"1"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.grey[200]}}});t.Z=s},1073:function(e,t,r){r.d(t,{Z:function(){return s}});var a=r(5893),i=r(4808),n=r(8456);function s(e){let{ShowLoader:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.Z,{open:t,sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},children:(0,a.jsx)(n.Z,{color:"inherit"})})})}},1448:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var a=r(5893),i=r(7294);r(5675);var n=r(7357),s=r(6886),l=r(5861),o=r(5415);r(5712);var c=r(7283),d=r(948),u=r(657),m=r(7645),h=r(6580),x=r(1425),g=r(3946),f=r(1073);r(3417);var v=r(6363),p=r(5121);r(1163);let b=(0,d.ZP)(u.Z)(e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}});function Z(e){let{EditValue:t,EditModalOpen:r,CloseModalFunction:d}=e,[u,Z]=(0,i.useState)(0),[j,C]=(0,i.useState)(0),[y,S]=(0,i.useState)(""),[w,k]=(0,i.useState)(""),[N,D]=(0,i.useState)(""),[M,R]=(0,i.useState)(""),[F,P]=(0,i.useState)(0),[I,W]=(0,i.useState)(""),[T,$]=(0,i.useState)(!1),[E,O]=(0,i.useState)(!1),[_,q]=(0,i.useState)(!1),[z,A]=(0,i.useState)(!1),[Y,B]=(0,i.useState)(!1),[L,G]=(0,i.useState)(!1),[H,J]=(0,i.useState)(!1),[K,Q]=(0,i.useState)(!1),[U,V]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),i="".concat(t,"-").concat(r,"-").concat(a);k(i)},[]);let X=e=>{P(e)},ee=e=>{let t=e.currentTarget.id,r=e.target.value;_=!1,q(!1),"CustomerName"===t?(S(r),A(!1)):"City"===t?(D(r),G(!1)):"ReviewDate"===t?(k(r),B(!1)):(R(r),J(!1))},et=async()=>{let e=new Date,t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),i="".concat(t,"-").concat(r,"-").concat(a);W(i),console.log(i);let n={Id:u,AvgRating:F,City:N,ReviewDate:w,CustomerName:y,Contents:M,Created_Date:I};if(d(),O(!0),""===n.CustomerName&&(_=!0,A(!0)),""===n.City&&(_=!0,G(!0)),""===n.Contents&&(_=!0,J(!0)),""===n.ReviewDate&&(_=!0,B(!0)),!0!==_){console.log(n);try{await p.Z.post("/api/testimonials/insert",{Id:j,ReviewDate:w,CustomerName:y,City:N,AvgRating:F,Contents:M}),O(!1),V(!1)}catch(e){d(),O(!1),console.error("Error inserting testimonial:",e),console.log("Error inserting testimonial:",e)}}else q(!0),O(!1)};return(0,i.useEffect)(()=>{if(0===t.length){P(0),S(""),D(""),R("");let e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),i="".concat(t,"-").concat(r,"-").concat(a);k(i)}else{if(0!==t.Id?(Z(t.Id),C(t.Id)):(Z(0),C(0)),""!==t.Rating?P(t.Rating):P(0),""!==t.Date){let e=new Date(t.Date);if(isNaN(e.getTime()))console.error("Invalid date format:",t.Date);else{let t=e.toISOString().split("T")[0];k(t)}}else k(w);""!==t.CustomerName?S(t.CustomerName):S(""),""!==t.City?D(t.City):D(""),""!==t.Message?R(t.Message):R("")}},[t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(a.Fragment,{children:E&&(0,a.jsx)(f.Z,{ShowLoader:E})}),(0,a.jsxs)(b,{open:r,children:[(0,a.jsx)(m.Z,{sx:{m:0,p:2},id:"customized-dialog-title",children:"Add Testimonial"}),(0,a.jsx)(g.Z,{"aria-label":"close",onClick:d,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,a.jsx)(c.Z,{})}),(0,a.jsx)(h.Z,{dividers:!0,children:(0,a.jsx)(n.Z,{children:(0,a.jsxs)(s.ZP,{container:!0,children:[(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(l.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"Rating",mb:"5px",children:"Star rating"}),(0,a.jsx)(o.Z,{type:"number",step:"0.1",min:"0",max:"5",value:F,onChange:e=>e.target.value>5?alert("Maximum limit of five stars :)"):X(e.target.value),id:"Rating",variant:"outlined",fullWidth:!0}),(0,a.jsx)("br",{}),(0,a.jsx)(v.default,{stars:F})]}),(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(l.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"ReviewDate",mb:"5px",children:"Review date"}),(0,a.jsx)(o.Z,{onChange:ee,value:w,type:"date",id:"ReviewDate",variant:"outlined",fullWidth:!0}),Y&&(0,a.jsx)("p",{className:"text-red-500",role:"alert",children:"This field required"})]}),(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(l.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"CustomerName",mb:"5px",children:"Customer name"}),(0,a.jsx)(o.Z,{onChange:ee,value:y,id:"CustomerName",variant:"outlined",fullWidth:!0}),z&&(0,a.jsx)("p",{className:"text-red-500",role:"alert",children:"This field required"})]}),(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(l.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"City",mb:"5px",children:"City"}),(0,a.jsx)(o.Z,{onChange:ee,value:N,id:"City",variant:"outlined",fullWidth:!0}),L&&(0,a.jsx)("p",{className:"text-red-500",role:"alert",children:"This field required"})]}),(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(l.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"Contents",mb:"5px",children:"Contents"}),(0,a.jsx)("textarea",{className:"w-full p-3 custom-text-area",onChange:ee,id:"Contents",value:M,rows:7}),H&&(0,a.jsx)("p",{className:"text-red-500",role:"alert",children:"This field required"})]})]})})}),(0,a.jsxs)(x.Z,{children:[(0,a.jsx)("button",{onClick:d,className:"px-2 py-1 bg-error-main text-white hover:bg-white border hover:border-error-main hover:text-error-main rounded-sm transition duration-300 delay-150",children:"Cancel"}),(0,a.jsx)("button",{onClick:et,className:"px-2 py-1 bg-primary-main text-white hover:bg-white border hover:border-primary-main hover:text-primary-main rounded-sm transition duration-300 delay-150",children:"Save changes"})]})]})]})}},6363:function(e,t,r){r.r(t),r.d(t,{default:function(){return i}});var a=r(5893);function i(e){let{stars:t}=e;return(0,a.jsx)("div",{className:"stars-gray",children:(0,a.jsx)("div",{className:"flex stars-yellow",style:{width:Math.round(t/5*100)+"%"}})})}}}]);