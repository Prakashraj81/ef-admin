"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3731],{5712:function(e,t,i){i.d(t,{Z:function(){return n}});var a=i(5893);function n(){return(0,a.jsx)("textarea",{className:"w-full p-3 custom-text-area"})}i(7294)},5415:function(e,t,i){var a=i(5893);i(7294);var n=i(948),r=i(2474);let l=(0,n.ZP)(e=>(0,a.jsx)(r.Z,{...e}))(e=>{let{theme:t}=e;return{"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"0.8"},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"1"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.grey[200]}}});t.Z=l},3731:function(e,t,i){i.r(t),i.d(t,{default:function(){return S}});var a=i(5893),n=i(7294);i(5675);var r=i(7357),l=i(3321),s=i(6886),o=i(5861),c=i(5415);i(5712);var d=i(7283),u=i(948),m=i(657),g=i(7645),h=i(6580),p=i(1425),x=i(3946);i(3417);var b=i(5121);i(1163);let v=(0,u.ZP)(m.Z)(e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}});function S(e){let{EditValue:t,EditModalOpen:i,CloseModalFunction:u}=e,[m,S]=(0,n.useState)(null),[f,j]=(0,n.useState)(""),[y,w]=(0,n.useState)(0),[_,C]=(0,n.useState)(0),[Z,N]=(0,n.useState)(""),[k,H]=(0,n.useState)(!1),[I,D]=(0,n.useState)(""),[F,W]=(0,n.useState)(0),[M,P]=(0,n.useState)(""),[T,E]=(0,n.useState)(""),[O,Y]=(0,n.useState)(""),[A,z]=(0,n.useState)(""),[q,B]=(0,n.useState)(""),[G,J]=(0,n.useState)(""),[K,L]=(0,n.useState)(""),[Q,R]=(0,n.useState)(""),[U,V]=(0,n.useState)(""),[X,$]=(0,n.useState)(""),[ee,et]=(0,n.useState)(""),[ei,ea]=(0,n.useState)(""),[en,er]=(0,n.useState)(!0),[el,es]=(0,n.useState)(!1),[eo,ec]=(0,n.useState)(!1),[ed,eu]=(0,n.useState)(!1),[em,eg]=(0,n.useState)(!1),[eh,ep]=(0,n.useState)(!1),[ex,eb]=(0,n.useState)(!1),[ev,eS]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=new Date,i=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),r="".concat(i,"-").concat(a,"-").concat(n);D(r),console.log(t)},[Z]);let ef=e=>{let t=e.currentTarget.id;"FirstService"===t?(er(!0),es(!1),ec(!1),eu(!1)):"SecondService"===t?(er(!1),es(!0),ec(!1),eu(!1)):"ThirdService"===t?(er(!1),es(!1),ec(!0),eu(!1)):(er(!1),es(!1),ec(!1),eu(!0))},ej=e=>{let t=e.currentTarget.id;N(Z=e.target.files[0]),ey(Z,t)},ey=async(e,t)=>{if(!e){console.error("No file selected."),console.log("No file selected.");return}let i=new FormData;i.append("image",e);try{let e=await fetch("/api/services/imageupload",{method:"POST",body:i});if(e.ok){let i=await e.json(),a=i.FilePath,n=a.split("\\").pop();"Image_1"===t?(U=n,V(n)):"Image_2"===t?(X=n,$(n)):"Image_3"===t?(ee=n,et(n)):(ei=n,ea(n))}else console.error("Service image upload failed")}catch(e){console.error("Error uploading the image:",e)}},ew=e=>{let t=e.currentTarget.id,i=e.target.value;em=!1,eg(!1),"Heading_1"===t?(P(i),ep(!1)):"Contents_1"===t?(B(i),eb(!1)):"Heading_2"===t?E(i):"Contents_2"===t?J(i):"Heading_3"===t?Y(i):"Contents_3"===t?L(i):"Heading_4"===t?z(i):R(i)},e_=async()=>{let e=new Date,t=e.getFullYear(),i=e.getMonth()+1,a=e.getDate(),n="".concat(t,"-").concat(i,"-").concat(a);j(n),console.log(n);let r={Heading_1:M,Contents_1:q};if(u(),H(!0),""===r.Heading_1&&(em=!0,ep(!0)),""===r.Contents_1&&(em=!0,eb(!0)),!0!==em)try{await b.Z.post("/api/services/insert",{Id:_,ServiceDate:I,Heading_1:M,Contents_1:q,Image_1:U,Heading_2:T,Contents_2:G,Image_2:X,Heading_3:O,Contents_3:K,Image_3:ee,Heading_4:A,Contents_4:Q,Image_4:ei,ServiceAmount:F}),H(!1),eS(!1)}catch(e){u(),H(!1),console.error("Error inserting service:",e),console.log("Error inserting service:",e)}else eg(!0),H(!1)};return(0,n.useEffect)(()=>{if(0===t.length){P(""),B("");let e=new Date,t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),n="".concat(t,"-").concat(i,"-").concat(a);D(n)}else{if(0!==t.Id?(w(t.Id),C(t.Id)):(w(0),C(0)),""!==t.Date){let e=new Date(t.Date);if(isNaN(e.getTime()))console.error("Invalid date format:",t.Date);else{let t=e.toISOString().split("T")[0];D(t)}}else D(I);""!==t.ServiceHeading_1?P(t.ServiceHeading_1):P(""),""!==t.ServiceHeading_2?E(t.ServiceHeading_2):E(""),""!==t.ServiceHeading_3?Y(t.ServiceHeading_3):Y(""),""!==t.ServiceContent_1?B(t.ServiceContent_1):B(""),""!==t.ServiceContent_2?J(t.ServiceContent_2):J(""),""!==t.ServiceContent_3?L(t.ServiceContent_3):L(""),""!==t.Service_Image_1?V(t.Service_Image_1):V("")}},[t]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(v,{open:i,children:[(0,a.jsx)(g.Z,{sx:{m:0,p:2},id:"customized-dialog-title",children:"Add Service"}),(0,a.jsx)(x.Z,{"aria-label":"close",onClick:u,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,a.jsx)(d.Z,{})}),(0,a.jsx)(h.Z,{dividers:!0,children:(0,a.jsxs)(r.Z,{children:[(0,a.jsxs)("div",{className:"w-full flex justify-between items-center px-2 py-3",children:[(0,a.jsx)(l.Z,{id:"FirstService",onClick:ef,className:en?"bg-primary-main text-primary-light hover:bg-primary-main hover:text-primary-light":"border border-white bg-primary-light text-primary-main",children:"Service-1"}),(0,a.jsx)(l.Z,{id:"SecondService",onClick:ef,className:el?"bg-primary-main text-primary-light hover:bg-primary-main hover:text-primary-light":"border border-white bg-primary-light text-primary-main",children:"Service-2"}),(0,a.jsx)(l.Z,{id:"ThirdService",onClick:ef,className:eo?"bg-primary-main text-primary-light hover:bg-primary-main hover:text-primary-light":"border border-white bg-primary-light text-primary-main",children:"Service-3"}),(0,a.jsx)(l.Z,{id:"FourthService",onClick:ef,className:ed?"bg-primary-main text-primary-light hover:bg-primary-main hover:text-primary-light":"border border-white bg-primary-light text-primary-main",children:"Service-4"})]}),en&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(s.ZP,{container:!0,children:[(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(o.Z,{variant:"subtitle1",fontWeight:600,component:"label",mb:"5px",children:"Heading"}),(0,a.jsx)(c.Z,{onChange:ew,id:"Heading_1",value:M,variant:"outlined",fullWidth:!0})]}),(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(o.Z,{variant:"subtitle1",fontWeight:600,component:"label",mb:"5px",children:"Content"}),(0,a.jsx)("textarea",{className:"w-full p-3 custom-text-area",onChange:ew,id:"Contents_1",value:q,rows:7})]}),(0,a.jsx)("div",{className:"image-sec w-full flex justify-between items-center",children:(0,a.jsx)("input",{type:"file",id:"Image_1",onChange:ej})})]})}),el&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(s.ZP,{container:!0,children:[(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(o.Z,{variant:"subtitle1",fontWeight:600,component:"label",mb:"5px",children:"Sub heading-2"}),(0,a.jsx)(c.Z,{onChange:ew,id:"Heading_2",value:T,variant:"outlined",fullWidth:!0})]}),(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(o.Z,{variant:"subtitle1",fontWeight:600,component:"label",mb:"5px",children:"Sub content-2"}),(0,a.jsx)("textarea",{className:"w-full p-3 custom-text-area",onChange:ew,id:"Contents_2",value:G,rows:7})]}),(0,a.jsx)("div",{className:"image-sec w-full flex justify-between items-center",children:(0,a.jsx)("input",{type:"file",id:"Image_2",onChange:ej})})]})}),eo&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(s.ZP,{container:!0,children:[(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(o.Z,{variant:"subtitle1",fontWeight:600,component:"label",mb:"5px",children:"Sub heading-3"}),(0,a.jsx)(c.Z,{onChange:ew,id:"Heading_3",value:O,variant:"outlined",fullWidth:!0})]}),(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(o.Z,{variant:"subtitle1",fontWeight:600,component:"label",mb:"5px",children:"Sub content-3"}),(0,a.jsx)("textarea",{className:"w-full p-3 custom-text-area",onChange:ew,id:"Contents_3",value:K,rows:7})]}),(0,a.jsx)("div",{className:"image-sec w-full flex justify-between items-center",children:(0,a.jsx)("input",{type:"file",id:"Image_3",onChange:ej})})]})}),ed&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(s.ZP,{container:!0,children:[(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(o.Z,{variant:"subtitle1",fontWeight:600,component:"label",mb:"5px",children:"Sub heading-4"}),(0,a.jsx)(c.Z,{onChange:ew,id:"Heading_4",value:A,variant:"outlined",fullWidth:!0})]}),(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(o.Z,{variant:"subtitle1",fontWeight:600,component:"label",mb:"5px",children:"Sub content-4"}),(0,a.jsx)("textarea",{className:"w-full p-3 custom-text-area",onChange:ew,id:"Contents_4",value:Q,rows:7})]}),(0,a.jsx)("div",{className:"image-sec w-full flex justify-between items-center",children:(0,a.jsx)("input",{type:"file",id:"Image_4",onChange:ej})})]})})]})}),(0,a.jsxs)(p.Z,{children:[(0,a.jsx)("button",{className:"px-2 py-1 bg-error-main text-white hover:bg-white border hover:border-error-main hover:text-error-main rounded-sm transition duration-300 delay-150",onClick:u,children:"Cancel"}),(0,a.jsx)("button",{className:"px-2 py-1 bg-primary-main text-white hover:bg-white border hover:border-primary-main hover:text-primary-main rounded-sm transition duration-300 delay-150",onClick:e_,children:"Save changes"})]})]})})}}}]);