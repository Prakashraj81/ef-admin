"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1988],{8456:function(e,t,r){r.d(t,{Z:function(){return E}});var a=r(3366),n=r(7462),i=r(7294),o=r(6010),l=r(4780),s=r(917),c=r(8216),d=r(1657),u=r(948),g=r(1588),h=r(4867);function m(e){return(0,h.Z)("MuiCircularProgress",e)}(0,g.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var p=r(5893);let v=["className","color","disableShrink","size","style","thickness","value","variant"],f=e=>e,x,y,b,Z,S=(0,s.F4)(x||(x=f`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),k=(0,s.F4)(y||(y=f`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),j=e=>{let{classes:t,variant:r,color:a,disableShrink:n}=e,i={root:["root",r,`color${(0,c.Z)(a)}`],svg:["svg"],circle:["circle",`circle${(0,c.Z)(r)}`,n&&"circleDisableShrink"]};return(0,l.Z)(i,m,t)},w=(0,u.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],t[`color${(0,c.Z)(r.color)}`]]}})(({ownerState:e,theme:t})=>(0,n.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>"indeterminate"===e.variant&&(0,s.iv)(b||(b=f`
      animation: ${0} 1.4s linear infinite;
    `),S)),C=(0,u.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),D=(0,u.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.circle,t[`circle${(0,c.Z)(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>(0,n.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,s.iv)(Z||(Z=f`
      animation: ${0} 1.4s ease-in-out infinite;
    `),k)),N=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiCircularProgress"}),{className:i,color:l="primary",disableShrink:s=!1,size:c=40,style:u,thickness:g=3.6,value:h=0,variant:m="indeterminate"}=r,f=(0,a.Z)(r,v),x=(0,n.Z)({},r,{color:l,disableShrink:s,size:c,thickness:g,value:h,variant:m}),y=j(x),b={},Z={},S={};if("determinate"===m){let e=2*Math.PI*((44-g)/2);b.strokeDasharray=e.toFixed(3),S["aria-valuenow"]=Math.round(h),b.strokeDashoffset=`${((100-h)/100*e).toFixed(3)}px`,Z.transform="rotate(-90deg)"}return(0,p.jsx)(w,(0,n.Z)({className:(0,o.Z)(y.root,i),style:(0,n.Z)({width:c,height:c},Z,u),ownerState:x,ref:t,role:"progressbar"},S,f,{children:(0,p.jsx)(C,{className:y.svg,ownerState:x,viewBox:"22 22 44 44",children:(0,p.jsx)(D,{className:y.circle,style:b,ownerState:x,cx:44,cy:44,r:(44-g)/2,fill:"none",strokeWidth:g})})}))});var E=N},5712:function(e,t,r){r.d(t,{Z:function(){return n}});var a=r(5893);function n(){return(0,a.jsx)("textarea",{className:"w-full p-3 custom-text-area"})}r(7294)},5415:function(e,t,r){var a=r(5893);r(7294);var n=r(948),i=r(2474);let o=(0,n.ZP)(e=>(0,a.jsx)(i.Z,{...e}))(e=>{let{theme:t}=e;return{"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"0.8"},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"1"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.grey[200]}}});t.Z=o},1073:function(e,t,r){r.d(t,{Z:function(){return o}});var a=r(5893),n=r(4808),i=r(8456);function o(e){let{ShowLoader:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.Z,{open:t,sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},children:(0,a.jsx)(i.Z,{color:"inherit"})})})}},1988:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var a=r(5893),n=r(7294);r(5675);var i=r(7357),o=r(6886),l=r(5861),s=r(5415);r(5712);var c=r(7283),d=r(948),u=r(657),g=r(7645),h=r(6580),m=r(1425),p=r(3946),v=r(1073);r(3417);var f=r(5121);r(1163);let x=(0,d.ZP)(u.Z)(e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}});function y(e){let{EditValue:t,EditModalOpen:r,CloseModalFunction:d}=e,[u,y]=(0,n.useState)(0),[b,Z]=(0,n.useState)(0),[S,k]=(0,n.useState)(""),[j,w]=(0,n.useState)(""),[C,D]=(0,n.useState)(""),[N,E]=(0,n.useState)(""),[M,I]=(0,n.useState)(""),[P,F]=(0,n.useState)(!1),[$,O]=(0,n.useState)(!1),[W,R]=(0,n.useState)(!1),[T,z]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),n="".concat(t,"-").concat(r,"-").concat(a);w(n)},[N,C]);let[_,Y]=(0,n.useState)(""),A=async()=>{if(!_){console.error("No file selected."),console.log("No file selected.");return}let e=new FormData;e.append("image",_);try{let t=await fetch("/api/event-category/imageupload",{method:"POST",body:e});if(t.ok){let e=await t.json(),r=e.FilePath;C=r.split("\\").pop(),D(C),E(C),B(C)}else console.error("Event category image upload failed")}catch(e){console.error("Error uploading the image:",e)}},q=e=>{let t=e.currentTarget.id,r=e.target.value;$=!1,O(!1),"EventCategoryName"===t&&(k(r),R(!1))},B=async e=>{D(e),E(e);let t=new Date,r=t.getFullYear(),a=t.getMonth()+1,n=t.getDate(),i="".concat(r,"-").concat(a,"-").concat(n);if(I(i),d(),F(!0),""===S&&($=!0,R(!0)),!0!==$)try{""!==e?(await f.Z.post("/api/event-category/insert",{Id:b,EventDate:j,EventCategoryName:S,EventCategoryImage:e}),Y(""),F(!1),z(!1)):console.log("EventCategoryImage is empty")}catch(e){d(),F(!1),console.error("Error inserting category:",e),console.log("Error inserting category:",e)}else O(!0),F(!1)};return(0,n.useEffect)(()=>{if(0===t.length){k(""),D("");let e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),n="".concat(t,"-").concat(r,"-").concat(a);w(n)}else{if(0!==t.Id?(y(t.Id),Z(t.Id)):(y(0),Z(0)),""!==t.Date){let e=new Date(t.Date);if(isNaN(e.getTime()))console.error("Invalid date format:",t.Date);else{let t=e.toISOString().split("T")[0];w(t)}}else w(Date);""!==t.EventCategoryName?k(t.EventCategoryName):k(""),""!==t.EventCategoryImage?D(t.EventCategoryImage):D("")}},[t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(a.Fragment,{children:P&&(0,a.jsx)(v.Z,{ShowLoader:P})}),(0,a.jsxs)(x,{open:r,children:[(0,a.jsx)(g.Z,{sx:{m:0,p:2},id:"customized-dialog-title",children:"Add event category"}),(0,a.jsx)(p.Z,{"aria-label":"close",onClick:d,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,a.jsx)(c.Z,{})}),(0,a.jsx)(h.Z,{dividers:!0,children:(0,a.jsx)(i.Z,{children:(0,a.jsxs)(o.ZP,{container:!0,children:[(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(l.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"EventDate",mb:"5px",children:"Event date"}),(0,a.jsx)(s.Z,{onChange:q,value:j,type:"date",id:"EventDate",variant:"outlined",fullWidth:!0})]}),(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(l.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"EventCategoryName",mb:"5px",children:"Event category name"}),(0,a.jsx)(s.Z,{onChange:q,value:S,id:"EventCategoryName",variant:"outlined",fullWidth:!0}),W&&(0,a.jsx)("p",{className:"text-red-500",role:"alert",children:"This field required"})]}),(0,a.jsxs)("div",{className:"w-full inline-block mb-7",children:[(0,a.jsx)(l.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"EventCategoryImage",mb:"5px",children:"Event category image (optional)"}),(0,a.jsx)("div",{className:"image-sec w-full flex justify-between items-center",children:(0,a.jsx)("input",{type:"file",onChange:e=>{Y(e.target.files[0])}})})]})]})})}),(0,a.jsxs)(m.Z,{children:[(0,a.jsx)("button",{onClick:d,className:"px-2 py-1 bg-error-main text-white hover:bg-white border hover:border-error-main hover:text-error-main rounded-sm transition duration-300 delay-150",children:"Cancel"}),(0,a.jsx)("button",{onClick:A,className:"px-2 py-1 bg-primary-main text-white hover:bg-white border hover:border-primary-main hover:text-primary-main rounded-sm transition duration-300 delay-150",children:"Save changes"})]})]})]})}}}]);